nohup: ignoring input
ğŸš€ Starting Supabase Docker API with Spotify Waveform Code Generation...
ğŸ“¡ Available endpoints:
  GET  /api/frames/           - List all frames
  GET  /api/frames/{id}/      - Get specific frame
  GET  /api/orders/            - List orders from Supabase
  POST /api/orders/            - Create order with audio upload & Spotify waveform code
  GET  /api/scan/{id}/         - Scan frame Spotify waveform code
  POST /api/track-play/{id}/   - Track audio play
  GET  /api/statistics/        - Get statistics
  GET  /api/test-storage/      - Test Supabase Storage connection
  GET  /health/                 - Health check (includes storage status)

ğŸŒ Server running on http://localhost:8001
ğŸ”— Supabase URL: https://qksmfogjdurxgzmlcujb.supabase.co
ğŸµ Spotify waveform codes will be generated automatically for audio uploads!
ğŸ“¦ Waveform codes are stored in Supabase Storage (wave_codes bucket)
ğŸ“± Mobile app can scan waveform codes to play recorded audio

âš ï¸  IMPORTANT Setup:
   1. Create 'wave_codes' bucket in Supabase Storage Dashboard
      â†’ Go to Storage â†’ Create bucket â†’ Name: 'wave_codes' â†’ Set PUBLIC
   2. Create 'api_order' table with columns: audio_file_url, qr_code_url, qr_code_data
   3. Test storage: GET http://localhost:8001/api/test-storage/
   4. Check health: GET http://localhost:8001/health/
 * Serving Flask app 'supabase_docker_api' (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
 * Running on all addresses.
   WARNING: This is a development server. Do not use it in a production deployment.
 * Running on http://192.168.1.18:8001/ (Press CTRL+C to quit)
127.0.0.1 - - [23/Jan/2026 21:41:36] "GET /health/ HTTP/1.1" 200 -
127.0.0.1 - - [24/Jan/2026 11:10:46] "POST /api/orders/ HTTP/1.1" 400 -
127.0.0.1 - - [24/Jan/2026 11:11:05] "POST /api/orders/ HTTP/1.1" 400 -
127.0.0.1 - - [24/Jan/2026 11:11:16] "POST /api/orders/ HTTP/1.1" 400 -
Traceback (most recent call last):
  File "/home/badran/Downloads/Freelance_2025/audio_frame_art/supabase_docker_api.py", line 752, in save_order_to_supabase
    print(f"   Data: {json.dumps(supabase_data, indent=2)}")
UnboundLocalError: local variable 'json' referenced before assignment
127.0.0.1 - - [24/Jan/2026 11:11:33] "POST /api/orders/ HTTP/1.1" 500 -
